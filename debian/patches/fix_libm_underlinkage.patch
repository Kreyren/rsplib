Description: Add math lib to link libs, fixing FTBFS with gcc-4.8
Origin: Ubuntu
Author: Daniel T Chen <crimsun@ubuntu.com>
Forwarded: no
Last-Update: 2013-04-17

Index: rsplib-3.0.1/rsplib/Makefile.am
===================================================================
--- rsplib-3.0.1.orig/rsplib/Makefile.am	2013-04-17 17:13:19.294341728 -0400
+++ rsplib-3.0.1/rsplib/Makefile.am	2013-04-17 17:15:24.556097146 -0400
@@ -306,7 +306,7 @@
 endif
 
 rspserver_SOURCES = rspserver.cc standardservices.cc standardservices.h fractalgeneratorservice.cc fractalgeneratorservice.h calcappservice.cc calcappservice.h pingpongpackets.h fractalgeneratorpackets.h calcapppackets.h scriptingservice.h scriptingservice.cc scriptingpackets.h environmentcache.cc environmentcache.h sha1.c sha1.h
-rspserver_LDADD   = libtdcppthread.la libtdthreadsafety.la libtdrandomizer.la libtdstringutilities.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la libtdbreakdetector.la libcpprspserver.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS) -lstdc++
+rspserver_LDADD   = libtdcppthread.la libtdthreadsafety.la libtdrandomizer.la libtdstringutilities.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la libtdbreakdetector.la libcpprspserver.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS) -lstdc++ -lm
 
 rspterminal_SOURCES = rspterminal.c
 rspterminal_LDADD   = libtdrandomizer.la libtdstringutilities.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la libtdbreakdetector.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS)
@@ -345,7 +345,7 @@
 
 fractalpooluser_CXXFLAGS = $(QT_CXXFLAGS) "-DDEFAULT_FPU_CONFIGDIR=\"$(datadir)/fgpconfig\""
 fractalpooluser_SOURCES  = fractalpooluser.cc fractalpooluser.h
-fractalpooluser_LDADD    = $(QT_LDADD) libtdrandomizer.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS) -lstdc++
+fractalpooluser_LDADD    = $(QT_LDADD) libtdrandomizer.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS) -lstdc++ -lm
 endif
 
 
Index: rsplib-3.0.1/rsplib/Makefile.in
===================================================================
--- rsplib-3.0.1.orig/rsplib/Makefile.in	2013-04-17 17:13:19.306341504 -0400
+++ rsplib-3.0.1/rsplib/Makefile.in	2013-04-17 17:16:04.547398462 -0400
@@ -964,7 +964,7 @@
 @ENABLE_REGISTRAR_STATISTICS_FALSE@rspregistrar_LDADD = libtdbreakdetector.la librspdispatcher.la librspcsp.la librsphsmgt.la librspmessaging.la libtdstorage.la libtdrandomizer.la libtdstringutilities.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la -lm $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS)
 @ENABLE_REGISTRAR_STATISTICS_TRUE@rspregistrar_LDADD = libtdbreakdetector.la librspdispatcher.la librspcsp.la librsphsmgt.la librspmessaging.la libtdstorage.la libtdrandomizer.la libtdstringutilities.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la -lm $(bz2_LIBS) $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS)
 rspserver_SOURCES = rspserver.cc standardservices.cc standardservices.h fractalgeneratorservice.cc fractalgeneratorservice.h calcappservice.cc calcappservice.h pingpongpackets.h fractalgeneratorpackets.h calcapppackets.h scriptingservice.h scriptingservice.cc scriptingpackets.h environmentcache.cc environmentcache.h sha1.c sha1.h
-rspserver_LDADD = libtdcppthread.la libtdthreadsafety.la libtdrandomizer.la libtdstringutilities.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la libtdbreakdetector.la libcpprspserver.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS) -lstdc++
+rspserver_LDADD = libtdcppthread.la libtdthreadsafety.la libtdrandomizer.la libtdstringutilities.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la libtdbreakdetector.la libcpprspserver.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS) -lstdc++ -lm
 rspterminal_SOURCES = rspterminal.c
 rspterminal_LDADD = libtdrandomizer.la libtdstringutilities.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la libtdbreakdetector.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS)
 hsdump_SOURCES = hsdump.c
@@ -986,7 +986,7 @@
 @BUILD_QT_PROGRAMS_TRUE@dist_fractalpooluser_DATA = fractalpooluser_de_DE.qm fractalpooluser_nb_NO.qm
 @BUILD_QT_PROGRAMS_TRUE@fractalpooluser_CXXFLAGS = $(QT_CXXFLAGS) "-DDEFAULT_FPU_CONFIGDIR=\"$(datadir)/fgpconfig\""
 @BUILD_QT_PROGRAMS_TRUE@fractalpooluser_SOURCES = fractalpooluser.cc fractalpooluser.h
-@BUILD_QT_PROGRAMS_TRUE@fractalpooluser_LDADD = $(QT_LDADD) libtdrandomizer.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS) -lstdc++
+@BUILD_QT_PROGRAMS_TRUE@fractalpooluser_LDADD = $(QT_LDADD) libtdrandomizer.la libtdtimeutilities.la libtdnetutilities.la libtdloglevel.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS) -lstdc++ -lm
 @BUILD_TEST_PROGRAMS_TRUE@hrestest_SOURCES = hrestest.c
 @BUILD_TEST_PROGRAMS_TRUE@hrestest_LDADD = libtdbreakdetector.la librsplib.la $(socketapi_LIBS) $(sctplib_LIBS) $(glib_LIBS)
 @BUILD_TEST_PROGRAMS_TRUE@testregistrator_SOURCES = testregistrator.c
